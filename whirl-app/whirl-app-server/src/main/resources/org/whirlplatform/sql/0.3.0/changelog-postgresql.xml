<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet
            id="whirl_0.3.0-postgresql"
            author="otlichnosti@gmail.com"
            failOnError="true"
            dbms="postgresql">

        <createProcedure procedureName="as_result"
                         path="postgresql/as_result.sql"
                         relativeToChangelogFile="true"/>

        <createProcedure procedureName="row_list"
                         path="postgresql/row_list.sql"
                         relativeToChangelogFile="true"/>

        <createProcedure procedureName="index_map"
                         path="postgresql/index_map.sql"
                         relativeToChangelogFile="true"/>

        <createProcedure procedureName="split_to_map"
                         path="postgresql/split_to_map.sql"
                         relativeToChangelogFile="true"/>

        <createProcedure procedureName="parse_row_list"
                         path="postgresql/parse_row_list.sql"
                         relativeToChangelogFile="true"/>

        <createProcedure procedureName="get_last_id"
                         path="postgresql/get_last_id.sql"
                         relativeToChangelogFile="true"/>

        <rollback>
            <dropProcedure procedureName="as_result"/>
            <dropProcedure procedureName="row_list"/>
            <dropProcedure procedureName="index_map"/>
            <dropProcedure procedureName="split_to_map"/>
            <dropProcedure procedureName="parse_row_list"/>
            <dropProcedure procedureName="get_last_id"/>
        </rollback>
    </changeSet>

</databaseChangeLog>